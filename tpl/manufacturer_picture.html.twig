{% include "headitem.html.twig" with {title: "GENERAL_ADMIN_TITLE"|translate} %}

<script type="text/javascript">
    <!--
    window.onload = function () {
        {% if updatelist == 1 %}
        top.oxid.admin.updateList('{{ oxid }}');
        {% endif %}
    }

    function DeletePic(fieldName)
    {
        var oForm = document.getElementById("myedit");
        oForm.fnc.value="deletePicture";
        oForm.masterPictureField.value=fieldName;

        oForm.submit();
    }
    //-->
</script>

{% if readonly %}
    {% set readonly = "readonly disabled" %}
{% else %}
    {% set readonly = "" %}
{% endif %}

<form name="transfer" id="transfer" action="{{ oViewConf.getSelfLink()|raw }}" method="post">
    {{ oViewConf.getHiddenSid()|raw }}
    <input type="hidden" name="oxid" value="{{ oxid }}">
    <input type="hidden" name="oxidCopy" value="{{ oxid }}">
    <input type="hidden" name="cl" value="manufacturer_picture">
    <input type="hidden" name="language" value="{{ actlang }}">
</form>

<form name="myedit" id="myedit" enctype="multipart/form-data" action="{{ oViewConf.getSelfLink()|raw }}" method="post">
    <input type="hidden" name="MAX_FILE_SIZE" value="{{ iMaxUploadFileSize }}">
    {{ oViewConf.getHiddenSid()|raw }}
    <input type="hidden" name="cl" value="manufacturer_picture">
    <input type="hidden" name="fnc" value="">
    <input type="hidden" name="oxid" value="{{ oxid }}">
    <input type="hidden" name="voxid" value="{{ oxid }}">
    <input type="hidden" name="oxparentid" value="{{ oxparentid }}">
    <input type="hidden" name="editval[oxmanufacturers__oxid]" value="{{ oxid }}">
    <input type="hidden" name="language" value="{{ actlang }}">
    <input type="hidden" name="masterPictureField" value="">

    {% if oViewConf.isAltImageServerConfigured() %}
        <div class="warning">{{ translate({ ident: "ALTERNATIVE_IMAGE_SERVER_NOTE" }) }} {% include "inputhelp.html.twig" with {'sHelpId': help_id("HELP_ALTERNATIVE_IMAGE_SERVER_NOTE"), 'sHelpText': help_text("HELP_ALTERNATIVE_IMAGE_SERVER_NOTE")} %}</div>
    {% endif %}

    <table border="0" width="98%">
        <tr>
            <td valign="top" class="edittext">

                <table cellspacing="0" cellpadding="0" border="0">
                    {% block admin_manufacturer_picture_form %}
                        <tr>
                            <td class="edittext" style="width: 5%;">
                                {{ translate({ ident: "GENERAL_ICON" }) }}
                            </td>
                            <td class="edittext" style="width: 15%;">
                                <input type="text" class="editinput" size="25" maxlength="{{ edit.oxmanufacturers__oxicon.fldmax_length }}" name="editval[oxmanufacturers__oxicon]" value="{{ edit.oxmanufacturers__oxicon.value }}" {{ readonly }}>
                                {% include "inputhelp.html.twig" with {'sHelpId': help_id("HELP_GENERAL_ICON"), 'sHelpText': help_text("HELP_GENERAL_ICON")} %}
                            </td>
                            <td class="edittext" style="width: 10%;">
                                {% if (not (edit.oxmanufacturers__oxicon.value=="nopic.jpg" or edit.oxmanufacturers__oxicon.value=="" or edit.oxmanufacturers__oxicon.value=="nopic_ico.jpg")) %}
                                    <a href="Javascript:DeletePic('oxicon');" class="delete left" {% include "help.html.twig" with {helpid: "item_delete"} %}></a>
                                {% endif %}
                                <input class="editinput" name="myfile[MICO@oxmanufacturers__oxicon]" type="file" size="26" {{ readonly }}><br>
                                ({{ translate({ ident: "GENERAL_MAX_FILE_UPLOAD" }) }} {{ sMaxFormattedFileSize }}, {{ translate({ ident: "GENERAL_MAX_PICTURE_DIMENSIONS" }) }})
                            </td>
                            <td class="edittext" style="width: 70%; vertical-align: top">
                                <img src="{{ edit.getIconUrl() }}" alt="{{ edit.oxmanufacturers__oxicon.value }}">
                            </td>
                        </tr>
                    {% endblock %}

                    <tr>
                        <td class="edittext" colspan="3" style="text-align: center;">
                            <input type="submit" class="edittext" id="oLockButton" name="saveArticle" value="{{ translate({ ident: "GENERAL_SAVE" }) }}" onClick="Javascript:document.myedit.fnc.value='save'" {{ readonly }} {% if not edit.oxmanufacturers__oxtitle.value and not oxparentid %}disabled{% endif %} {{ readonly }}><br>
                        </td>
                    </tr>

                </table>
            </td>
        </tr>
    </table>

</form>

{% include "bottomnaviitem.html.twig" %}
{% include "bottomitem.html.twig" %}
